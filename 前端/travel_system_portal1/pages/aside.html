<aside class="main-sidebar">
    <section class="sidebar">

        <div class="user-panel">
            <div class="pull-left image">
                <img src="../img/user9-160x160.jpg"
                     class="img-circle" alt="User Image">
            </div>
            <div class="pull-left info" id="user">

                <p id="setUsername" style="color: #FFFF00" v-model="username">{{username}}</p>
                <a href="#"><i class="fa fa-circle text-success"></i> 修仙等级：大罗金仙</a>
            </div>
        </div>

        <ul class="sidebar-menu">
            <li class="header">菜单</li>
            <li id="admin-index"><a
                    href="main.html"><i
                    class="fa fa-dashboard"></i> <span>首页</span></a></li>

            <li class="treeview"><a href="#"> <i class="fa fa-cogs"></i>
                <span>系统管理</span> <span class="pull-right-container"> <i
                        class="fa fa-angle-left pull-right"></i>
				</span>

            </a>
                <ul class="treeview-menu">

                    <li id="system-setting">
                        <a href="user-list.html">
                            <i class="fa fa-circle-o"></i> 用户管理
                        </a>
                    </li>
                    <li id="system-setting"><a
                            href="role-list.html"> <i
                            class="fa fa-circle-o"></i> 角色管理
                    </a></li>
                    <li id="system-setting"><a
                            href="permission-list.html">
                        <i class="fa fa-circle-o"></i> 资源权限管理
                    </a></li>
                    <li id="system-setting"><a
                            href="syslog-list.html"> <i
                            class="fa fa-circle-o"></i> 访问日志
                    </a></li>
                </ul>
            </li>
            <li class="treeview"><a href="#"> <i class="fa fa-cube"></i>
                <span>基础数据</span> <span class="pull-right-container"> <i
                        class="fa fa-angle-left pull-right"></i>
				</span>
            </a>
                <ul class="treeview-menu">

                    <li id="system-setting"><a
                            href="product-list.html">
                        <i class="fa fa-circle-o"></i> 产品管理
                    </a></li>
                    <li id="system-setting"><a
                            href="orders-list.html"> <i
                            class="fa fa-circle-o"></i> 订单管理
                    </a></li>
                </ul>
            </li>
        </ul>
    </section>
</aside>
<script>
    new Vue({
        el: "#user",
        data: {
            username: ""
        },
        created() {
            axios.get("/user/getUsername").then(res => {
                this.username = res.data;
            }).catch(error => {
                this.username = "未登录";
            })
        },
        beforeUpdate() {
            if (this.username === "未登录" || this.username === "" || this.username === null) {
                location.href = "../index.html";
            }
        }
    });
</script>